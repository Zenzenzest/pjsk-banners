import { useEffect, useRef } from "react";
import NavBar from "./components/Nav/NavBar";
import { ThemeProvider } from "./context/Theme_toggle";
import { ServerProvider } from "./context/Server";
import HomeContainer from "./components/Main_container";

function App() {
  const didLog = useRef(false);
  useEffect(() => {
    const currentPath = window.location.pathname;
  

  const isImage = /\.(png|jpg|jpeg|gif|svg|ico|webp|bmp|tiff)$/i.test(currentPath);
  
  if (currentPath !== "/" && !isImage) {
    window.history.replaceState(null, "", "/");
  }
    const mizook = `،
⠀⠀⠀⠀⠀⠀⠀⠉⠉⠉⢂⠀⠉⠉⠉⠛⣿⠶⠊⠉⠀⠀⠀⠀⠀⠀⠀⠀⠈⠉⠙⠒⡶⣤⣈⣹⡓⣶⣭⣻⣻⢯⣯⣍⣙⠫⡟⢧⣌⠉⠉⠉⠉⠉⠀⠀⣁⣤⣤⠄⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⠞⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠙⠷⣿⣿⣿⣿⣿⣶⣈⣿⣿⣯⠀⡌⢻⣷⣄⠀⠀⢀⣠⠞⠁⢸⠛⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⠟⠁⣠⠊⠉⠀⠀⠀⠀⠀⢰⠀⢀⣀⠀⠀⠀⠀⠀⠀⡀⠀⠀⠙⣿⣿⣿⣍⣿⣿⣿⣿⠟⣿⣶⣿⡟⠻⣷⣾⠏⢸⠀⠀⢸⡄⢀⣀⢰⠆⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣰⠋⠀⡜⠁⠀⠀⠀⠀⠀⠀⠀⢸⠀⠻⣄⠉⠙⢶⡶⢤⡀⠀⠸⣆⠠⢿⡻⣿⣿⣿⣿⣿⣿⠀⣳⢿⣿⣷⣾⣣⠏⢠⠟⠀⠀⠀⡟⠁⢀⡞⠀⠀⠀
⠀⠀⠀⣀⠀⠀⠀⠀⠀⠀⠀⠁⠀⡼⠁⠀⠀⡰⠀⡴⠀⠀⢰⡗⡇⠐⢤⡙⠋⠉⠻⣿⠇⠀⠀⠀⠀⣨⣷⣿⣿⣭⣿⣿⣧⣰⣯⣿⣿⣿⣿⡋⢀⡼⠃⠀⠀⠀⣿⠀⡎⠀⠀⠀⠀
⠀⠀⠀⠙⠷⠄⠀⠀⠀⠀⠀⠀⠀⠁⠀⠀⣴⡇⠉⠀⢀⡏⠁⠙⢻⡒⠲⠿⠇⠀⣀⠸⢦⠀⢰⣻⡟⠛⠻⣿⡿⡎⠉⠉⠉⣿⢸⣿⣿⣿⣿⣷⣰⠇⠀⠀⠀⣰⠃⣰⠃⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⡀⠀⠀⢸⡥⢄⡀⠈⢯⢶⡦⠤⣄⣼⠳⣬⣧⡀⠉⠻⢦⣄⢹⣿⠞⠓⠲⣤⣹⣿⣿⣿⡿⢿⣷⣿⠒⠁⣠⣼⠟⠉⣻⠶⠤⡀⠀⠀
⠀⠀⠀⠀⠘⠂⢀⣀⠀⠀⠀⠀⠀⠀⠀⡞⡏⠈⠑⡆⢸⠀⠀⠙⠳⣬⣧⡽⠀⠀⠀⠀⢈⣻⣧⠀⠹⣄⠈⠙⠛⡏⠳⣄⡘⠍⠻⣯⡿⠧⣌⣤⣿⣶⣿⣟⠀⢄⠉⠁⠀⠀⠈⠀⣀
⠀⠀⠀⠀⢠⠦⠾⠋⠀⠀⠀⠀⠀⠀⢰⡇⡇⠀⢰⣷⢺⠀⠀⠀⠀⠘⡌⢣⡀⠀⠀⠳⡀⠉⠻⣷⣄⣷⢀⣀⡀⠙⢦⣱⡖⠛⠉⣩⣷⣶⣯⡿⣭⢿⣿⣽⠷⣾⣷⣦⣰⣴⡞⠉⠀
⠀⠀⠀⠀⢈⣷⣶⢀⠤⣀⠀⠀⠀⠀⡾⢠⠇⠀⢸⠃⢸⠀⠀⠀⠀⠀⠀⠀⠙⢄⠀⠀⠙⣆⠀⠘⡄⠹⣿⣯⡉⠓⢤⢹⣟⣿⣿⣿⡏⢹⣿⡗⣿⣶⣾⠻⣦⡎⢿⣿⡅⠈⠳⣄⠀
⠀⠀⠈⠓⣾⣿⣿⣚⣛⢓⡴⠂⠀⢠⡇⣾⠃⠀⢸⠀⡼⠀⢣⠀⠀⠀⠀⠀⠀⠀⠀⢀⢠⠘⣧⠀⢳⠀⢹⠹⣷⣄⣘⡆⣿⢹⡿⣇⣹⣿⢻⣷⣾⣿⣿⣤⣧⣽⣮⣿⡟⢦⡀⠈⠂
⠀⢃⠀⠘⢿⡛⠛⠁⠀⢟⣁⠤⡄⢸⢱⡿⠀⠀⠸⣆⡇⠀⠈⡆⢀⣠⠀⠀⠀⠀⠀⠈⢳⣇⠘⣿⡚⣗⠮⢷⢌⣻⣻⣄⣸⣦⣯⣿⡿⢿⠘⣿⡄⠀⢻⡀⢿⣿⣿⣿⣿⡄⠀⠀⢀
⠀⠀⠠⠀⣺⣷⡆⠀⡀⢿⡁⠔⡇⣟⣼⠃⠀⠀⡀⢿⣃⡤⠴⡿⡅⠀⢧⠀⠀⠠⡀⠀⠀⠙⡟⢿⣧⢻⠆⠘⣆⠀⠙⣽⣿⣧⠽⢿⣆⠈⢷⣽⣿⣶⣼⣷⣸⣇⣿⡿⣿⣻⡄⠀⠀
⢰⣾⣷⣾⣿⠟⡁⠀⠇⠛⣤⡾⠃⣇⡏⠀⠠⠖⠻⣌⢇⠀⠀⠙⣿⣆⠈⢷⣄⠀⠙⣄⣀⠀⢸⢸⠘⣼⠀⠐⢮⣦⡀⠘⣿⢿⡀⠀⠙⠀⠠⣯⠉⠛⠟⣿⠛⢻⣟⣷⣯⣽⢿⡄⠀
⠉⠛⠯⢻⢩⣰⡷⢤⣤⡀⣿⢄⢀⠟⢳⠀⠀⠀⠀⠹⣬⣧⣀⠀⠈⠹⣷⣈⠣⡑⠢⢌⡙⢦⡀⣿⠀⣟⣠⡤⠤⠤⣭⣒⣼⣼⣧⠀⠀⠀⠠⢿⣶⠀⠀⠸⡇⠈⠛⣧⣿⣿⣏⠙⣄
⠀⠀⠤⢨⣿⡿⠃⡆⠠⡇⡿⢧⢩⡖⢻⡄⠀⠀⠀⠀⠀⠤⠼⠒⠶⢦⡈⠉⠒⠻⠶⣤⣬⠉⢱⡇⠀⢚⣥⣶⠾⡿⠿⠛⠛⣿⣿⣿⡷⠤⠤⠼⡿⣧⡀⢰⠟⠳⣶⡈⣏⠀⠘⣷⡈
⠀⠀⠀⣸⡿⢹⣶⣹⣤⣼⢸⢩⣧⣴⠏⠁⢀⣠⣶⣿⢿⡿⠿⠷⠶⠶⡆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠉⠁⠀⠀⠀⠀⠘⣿⣿⡄⠹⣥⠀⠀⣷⠙⢿⣾⠀⢀⡏⠹⣼⣮⠀⠈⠋
⠀⠀⠀⣿⢇⡞⡝⣿⢳⠛⣾⣿⣧⣼⡤⢿⣿⡿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣳⡀⠸⡷⢄⢸⣧⡀⠙⢿⣿⣗⠃⠙⣿⡙⠦⣄
⠀⠀⢀⠇⢸⢿⡇⣿⣏⣷⠼⣏⡙⢦⡇⠀⠀⠀⢀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣷⡄⠹⣎⢻⣷⡱⣄⠈⣟⠻⣶⣄⡙⣿⣦⡀
⠀⠀⠜⠀⢸⣼⡇⠘⡿⣟⣓⠻⡭⢦⡻⡄⠀⠀⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠐⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⢿⣆⠘⢧⠉⢿⠮⣳⣜⡆⠋⠙⢿⣾⣿⡃
⠀⠀⠀⢠⣯⡿⣿⣴⠃⢨⡏⢹⠻⡆⡗⣇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣸⣿⣯⡳⢄⠑⢦⣧⡈⠙⠻⠶⣤⣀⠈⠙⠿
⠀⠀⠀⣾⢃⠇⠈⢿⣾⡆⠹⣌⢦⡀⠀⠹⣧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣿⣟⣷⣿⣷⣶⣤⣉⠛⠲⠤⢴⣶⣜⡑⢀⠀
⠀⠀⠰⡟⠘⣄⡴⢸⢸⢹⡀⠘⣷⣍⠑⠒⠮⢷⡀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣀⣀⡀⠀⠀⠀⠀⠐⠒⠒⣶⠆⠀⠀⠀⠀⠀⠀⢀⡾⠋⠙⣷⣿⢿⡏⠳⣄⡉⠓⠆⠀⠀⠻⠭⣥⡃
⠀⠀⠀⢁⡾⡈⣧⠿⠘⠄⢣⡀⢹⢘⣿⠶⠼⣷⣷⡄⠀⠀⠀⠀⠀⠀⠀⠈⠛⠲⠤⠤⠤⠀⠠⠖⠚⠉⠀⠀⠀⠀⠀⠀⠀⢠⡾⠅⠀⠀⠈⠀⠳⣿⡀⠀⢉⠓⠦⣄⡉⠢⣄⠀⠀
⠀⠀⠀⢸⠀⢳⡿⠀⠀⠀⠀⢻⡟⠛⢷⣀⣴⣿⠻⢿⣷⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣰⡿⠛⢦⡀⠀⠀⠀⠀⠘⣷⡀⠘⣶⣄⠀⠙⣷⣮⣳⣄
⠀⠀⠀⠈⡇⢸⡇⠀⠀⠀⠀⠀⠹⡄⠀⢸⡏⠻⡦⠄⣿⡛⠷⣄⠀⠀⢀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣠⠞⠋⠀⠀⠈⣽⣆⠀⢀⠀⠀⠘⣧⠀⣿⢾⡄⠀⠘⠆⠙⠦
⠀⠀⠀⢸⡇⢸⢣⠀⢰⡀⠀⠀⠢⡙⢇⠣⡑⢤⠟⢆⢧⣽⣶⣾⣷⣶⣍⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣴⡿⠋⠀⠀⠀⠀⠀⠟⡼⡆⡜⠀⠀⠀⢸⠀⡿⠘⢧⠀⠀⠀⠀⠀
⠀⠀⠀⢸⣇⢸⠛⡆⠀⣷⡄⠀⠀⠈⠺⢷⣝⢾⣏⠛⠿⣝⢯⣍⣀⣠⡿⢿⠲⠤⣄⡀⠀⠀⠀⠀⢀⡤⠞⠍⢸⠀⢦⡀⠀⠀⠀⠀⠀⣹⠟⠀⠀⠀⢠⠻⢠⠇⣰⢸⠀⠀⠀⠀⠀
⠀⠀⠀⣜⣿⡜⡇⠹⡄⠘⣍⢢⡀⠀⠀⠀⠉⠙⡚⠓⠒⠚⠒⢒⣫⠞⠉⠻⣦⡀⠀⠉⠙⠒⠒⠊⠁⠀⠀⠀⢸⢾⠀⠛⢦⣤⡤⠴⠚⠁⠀⠀⠀⡴⢃⣠⠎⣠⢿⠆⡆⡤⠀⠀⠀
⠀⠀⠀⠈⠻⢭⣘⣦⣙⣆⠘⢦⣈⣶⣤⣀⠀⠀⠈⠉⠙⢛⣻⢿⣁⣬⣟⢹⡏⢻⡆⠀⠀⠀⠀⠀⠀⠀⠀⠀⢸⣮⣿⣄⡀⢻⣿⢯⡭⣤⢤⣖⣚⣲⠿⠗⠪⠁⣻⢰⡟⠑⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠈⠁⠉⠓⢄⣣⡀⠈⡝⡿⢷⠶⠶⣫⡭⣄⡶⣖⠒⢺⣿⣅⡈⠀⠀⠀⠀⠀⠀⠀⠀⢀⣠⠼⢿⡟⠛⠚⠉⠀⠉⠉⣷⠋⠈⠁⠀⠀⢀⣠⠶⠛⣯⠀⢀⣀⣀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠛⢄⢹⠹⣖⣤⣤⣤⠽⠛⠛⠛⠛⣻⠿⢭⣋⡓⢢⢴⣦⡤⣶⣶⣛⣋⡭⠖⠋⣹⣄⣀⠀⠀⢀⡤⠽⣆⣀⡠⢔⡾⠛⠀⠀⢠⡟⠋⠉⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡀⠀⠀⠈⢻⠀⠙⠗⠛⠋⠉⠓⣀⣴⣎⠓⠤⢤⣀⣉⣿⣾⢹⣇⣿⢝⡻⣯⣓⣒⢻⣭⠼⠛⠒⡴⣋⣀⣈⣛⡛⠉⠁⠀⠀⠀⠀⢠⡇⠀⠀⠀⠀⠀

♡`;
    if (!didLog.current) {
      console.log(mizook);
      didLog.current = true;
    }
  });
  return (
    <div>
      <ThemeProvider>
        <ServerProvider>
          <NavBar />
          <HomeContainer />
        </ServerProvider>
      </ThemeProvider>
    </div>
  );
}

export default App;
